<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Random Chooser & M√ºnze</title>

<link rel="icon" type="image/png" href="favicon/favicon-96x96.png" sizes="96x96" />
<link rel="icon" type="image/svg+xml" href="favicon/favicon.svg" />
<link rel="shortcut icon" href="favicon/favicon.ico" />
<link rel="apple-touch-icon" sizes="180x180" href="favicon/apple-touch-icon.png" />
<meta name="apple-mobile-web-app-title" content="RanChos" />
<link rel="manifest" href="favicon/site.webmanifest" />
   
    
<style>
    html, body {
        height: 100%;
        margin: 0;
        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        overflow: hidden;
    }

    body {
        display: flex;
        justify-content: center;
        align-items: center;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        transition: background 0.3s ease;
    }

    /* --- VIDEOS --- */
    #videoBackground {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        overflow: hidden;
        z-index: 0;
        pointer-events: none;
    }

    #videoBackground video {
        position: absolute;
        width: auto;
        height: 300px;
        object-fit: cover;
        border-radius: 12px;
        box-shadow: 0 4px 15px rgba(0,0,0,0.4);
    }

    /* --- UI Container --- */
    .container {
        position: relative;
        z-index: 10;
        text-align: center;
        width: 100%;
        max-width: 600px;
        padding: 20px;
    }

    h1, h2 {
        color: #fff;
        text-shadow: 0 2px 4px rgba(0,0,0,0.3);
        margin-bottom: 30px;
    }

    h1 { font-size: 2.5rem; font-weight: 300; }
    h2 { font-size: 2rem; font-weight: 300; }

    button {
        padding: 20px 40px;
        font-size: 1.3rem;
        font-weight: 500;
        border: none;
        border-radius: 50px;
        cursor: pointer;
        margin: 15px;
        transition: all 0.3s ease;
        background: linear-gradient(45deg, #ff6b6b, #ff8e8e);
        color: white;
        box-shadow: 0 8px 25px rgba(255, 107, 107, 0.3);
        min-width: 180px;
        position: relative;
        overflow: hidden;
    }

    button:hover {
        transform: translateY(-3px);
        box-shadow: 0 12px 35px rgba(255, 107, 107, 0.4);
    }
    button:active { transform: translateY(-1px); }

    /* --- Ergebnis-Text (Random + M√ºnze) --- */
    .name, .coin-result {
        margin-top: 40px;
        font-size: 3rem;
        font-weight: 900;
        letter-spacing: 2px;
        text-transform: uppercase;
        opacity: 0;
        transition: opacity 0.5s ease;
        background: linear-gradient(90deg, #ff0080, #ff8c00, #40e0d0);
        background-size: 200% auto;
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        animation: glow 2s linear infinite, gradientShift 5s ease infinite;
        text-shadow: 0 0 20px rgba(255,255,255,0.6);
    }

    .show {
        opacity: 1;
        animation: fadeInScale 0.5s ease, glow 2s linear infinite, gradientShift 5s ease infinite;
    }

    @keyframes fadeInScale {
        0% { opacity: 0; transform: scale(0.7); }
        100% { opacity: 1; transform: scale(1); }
    }

    @keyframes gradientShift {
        0% { background-position: 0% 50%; }
        50% { background-position: 100% 50%; }
        100% { background-position: 0% 50%; }
    }

    @keyframes glow {
        0% { text-shadow: 0 0 10px #fff, 0 0 20px #ff0080; }
        50% { text-shadow: 0 0 20px #40e0d0, 0 0 30px #ff8c00; }
        100% { text-shadow: 0 0 10px #fff, 0 0 20px #ff0080; }
    }

    /* --- Name Management --- */
    .name-management {
        margin-top: 30px;
        padding: 15px;
        background: rgba(255,255,255,0.1);
        border-radius: 16px;
        backdrop-filter: blur(6px);
    }

    .name-tags {
        display: flex;
        flex-wrap: wrap;
        gap: 8px;
        justify-content: center;
        margin-bottom: 12px;
    }

    .name-tag {
        display: inline-flex;
        align-items: center;
        gap: 6px;
        padding: 6px 12px;
        background: rgba(255,255,255,0.2);
        border-radius: 20px;
        color: #fff;
        font-size: 0.95rem;
        font-weight: 500;
    }

    .name-tag .remove-btn {
        background: none;
        border: none;
        color: rgba(255,255,255,0.7);
        font-size: 1rem;
        cursor: pointer;
        padding: 0 2px;
        min-width: auto;
        margin: 0;
        box-shadow: none;
        line-height: 1;
        border-radius: 50%;
        transition: color 0.2s;
    }

    .name-tag .remove-btn:hover {
        color: #ff6b6b;
        transform: none;
        box-shadow: none;
    }

    .name-add-row {
        display: flex;
        justify-content: center;
        gap: 8px;
    }

    .name-add-row input {
        padding: 8px 14px;
        border: none;
        border-radius: 20px;
        font-size: 1rem;
        outline: none;
        width: 160px;
        background: rgba(255,255,255,0.25);
        color: #fff;
    }

    .name-add-row input::placeholder { color: rgba(255,255,255,0.6); }

    .name-add-row button {
        padding: 8px 18px;
        font-size: 1rem;
        min-width: auto;
        margin: 0;
    }

    /* Responsive */
    @media (max-width: 768px) {
        button { min-width: 250px; }
        h1 { font-size: 2rem; }
        .name, .coin-result { font-size: 2.2rem; }
        .name-add-row button { min-width: auto; }
    }

    /* ---- HACKER CONSOLE ---- */
    #hackerConsole {
        display: none;
        position: fixed;
        top: 0; left: 0;
        width: 100%; height: 100%;
        z-index: 9999;
        background: #0a0a0a;
        color: #00ff41;
        font-family: 'Courier New', Courier, monospace;
        overflow-y: auto;
        animation: hackerFadeIn 0.4s ease;
    }

    @keyframes hackerFadeIn {
        0% { opacity: 0; }
        100% { opacity: 1; }
    }

    /* scanline overlay */
    #hackerConsole::before {
        content: '';
        position: fixed;
        top: 0; left: 0;
        width: 100%; height: 100%;
        pointer-events: none;
        background: repeating-linear-gradient(
            0deg,
            rgba(0, 255, 65, 0.03) 0px,
            rgba(0, 255, 65, 0.03) 1px,
            transparent 1px,
            transparent 3px
        );
        z-index: 10000;
    }

    /* flicker animation on the whole console */
    #hackerConsole {
        animation: hackerFadeIn 0.4s ease, hackerFlicker 4s infinite;
    }

    @keyframes hackerFlicker {
        0%   { opacity: 1; }
        3%   { opacity: 0.85; }
        5%   { opacity: 1; }
        50%  { opacity: 1; }
        52%  { opacity: 0.9; }
        53%  { opacity: 1; }
        80%  { opacity: 1; }
        82%  { opacity: 0.88; }
        84%  { opacity: 1; }
        100% { opacity: 1; }
    }

    .hacker-inner {
        max-width: 600px;
        margin: 0 auto;
        padding: 40px 20px 60px;
        position: relative;
    }

    .hacker-close {
        position: absolute;
        top: 15px; right: 15px;
        background: none;
        border: 1px solid #00ff41;
        color: #00ff41;
        font-size: 1.6rem;
        width: 40px; height: 40px;
        cursor: pointer;
        border-radius: 4px;
        font-family: 'Courier New', Courier, monospace;
        display: flex;
        align-items: center;
        justify-content: center;
        padding: 0;
        min-width: auto;
        margin: 0;
        box-shadow: 0 0 8px rgba(0,255,65,0.3);
        transition: background 0.2s, box-shadow 0.2s;
    }

    .hacker-close:hover {
        background: rgba(0,255,65,0.15);
        box-shadow: 0 0 16px rgba(0,255,65,0.5);
        transform: none;
    }

    .hacker-title {
        text-align: center;
        font-size: 2.2rem;
        font-weight: bold;
        letter-spacing: 4px;
        text-transform: uppercase;
        margin-bottom: 10px;
        text-shadow: 0 0 10px #00ff41, 0 0 20px #00ff41, 0 0 40px #00ff41;
        animation: hackerGlow 2s ease-in-out infinite;
    }

    @keyframes hackerGlow {
        0%   { text-shadow: 0 0 10px #00ff41, 0 0 20px #00ff41; }
        50%  { text-shadow: 0 0 20px #00ff41, 0 0 40px #00ff41, 0 0 60px #00ff41; }
        100% { text-shadow: 0 0 10px #00ff41, 0 0 20px #00ff41; }
    }

    .hacker-subtitle {
        text-align: center;
        font-size: 0.85rem;
        color: #00cc33;
        margin-bottom: 30px;
        opacity: 0.7;
    }

    .hacker-person {
        display: flex;
        align-items: center;
        justify-content: space-between;
        padding: 12px 14px;
        margin-bottom: 8px;
        background: rgba(0,255,65,0.05);
        border: 1px solid rgba(0,255,65,0.15);
        border-radius: 4px;
        gap: 12px;
    }

    .hacker-person-name {
        font-size: 1.1rem;
        flex-shrink: 0;
        min-width: 90px;
    }

    .hacker-person-slider {
        flex: 1;
        -webkit-appearance: none;
        appearance: none;
        height: 6px;
        background: rgba(0,255,65,0.2);
        border-radius: 3px;
        outline: none;
    }

    .hacker-person-slider::-webkit-slider-thumb {
        -webkit-appearance: none;
        appearance: none;
        width: 16px; height: 16px;
        border-radius: 50%;
        background: #00ff41;
        cursor: pointer;
        box-shadow: 0 0 6px #00ff41;
    }

    .hacker-person-slider::-moz-range-thumb {
        width: 16px; height: 16px;
        border-radius: 50%;
        background: #00ff41;
        cursor: pointer;
        border: none;
        box-shadow: 0 0 6px #00ff41;
    }

    .hacker-person-weight {
        font-size: 1rem;
        min-width: 40px;
        text-align: right;
        color: #00ff41;
        font-weight: bold;
    }
</style>
</head>
<body>
    <!-- Video-Hintergrund -->
    <div id="videoBackground"></div>

    <!-- UI -->
    <div class="container" id="app">
        <div id="startScreen" class="game-container">
            <h1>üé≤ W√§hle ein Spiel üé≤</h1>
            <div class="choice-buttons">
                <button id="coinGameBtn">ü™ô M√ºnze werfen</button>
                <button id="randomGameBtn">üéØ Random Chooser</button>
            </div>
        </div>

        <div id="coinGame" class="game-container" style="display:none;">
            <h2>ü™ô M√ºnze werfen!</h2>
            <button id="flipCoinBtn">‚ú® Wirf M√ºnze! ‚ú®</button>
            <div class="coin-result" id="coinResult"></div>
            <button id="backFromCoin">‚Üê Zur√ºck</button>
        </div>

        <div id="randomGame" class="game-container" style="display:none;">
            <h2>üéØ Random Chooser</h2>
            <button id="magicButton">‚ú® Klick mich! ‚ú®</button>
            <div class="name" id="nameDisplay"></div>
            <div class="name-management">
                <div class="name-tags" id="nameTags"></div>
                <div class="name-add-row">
                    <input type="text" id="nameInput" placeholder="Neuer Name‚Ä¶">
                    <button id="addNameBtn">+ Hinzuf√ºgen</button>
                </div>
            </div>
            <button id="backFromRandom">‚Üê Zur√ºck</button>
        </div>
    </div>

    <!-- Hacker Console -->
    <div id="hackerConsole">
        <div class="hacker-inner">
            <button class="hacker-close" id="hackerCloseBtn">‚úï</button>
            <div class="hacker-title">Hacker-Konsole</div>
            <div class="hacker-subtitle">// Wahrscheinlichkeiten manipulieren</div>
            <div id="hackerPersonList"></div>
        </div>
    </div>

<script>
    /* ------------------- VIDEO BACKGROUND ------------------- */
    const videoFiles = [
        "media/subway.mp4",
        "media/chaya_julius.mp4",
        "media/chaya2.mp4",
        "media/chaya1.mp4",
        "media/brainrot_italia.mp4"
    ];

    const videoContainer = document.getElementById("videoBackground");
    const videos = [];

    videoFiles.forEach(src => {
        const video = document.createElement("video");
        video.src = src;
        video.autoplay = true;
        video.loop = true;
        video.volume = 1.0;
        video.playsInline = true;

        // Sound erlauben erst nach User-Interaktion
        video.muted = true;
        videoContainer.appendChild(video);

        videos.push({
            el: video,
            x: Math.random() * (window.innerWidth - 220),
            y: Math.random() * (window.innerHeight - 140),
            dx: (Math.random() < 0.5 ? -1 : 1) * (1 + Math.random() * 2),
            dy: (Math.random() < 0.5 ? -1 : 1) * (1 + Math.random() * 2),
            w: 220,
            h: 140
        });
    });

    // Bewegung
    function animateVideos() {
        videos.forEach(v => {
            v.x += v.dx;
            v.y += v.dy;

            if (v.x <= 0 || v.x + v.w >= window.innerWidth) v.dx *= -1;
            if (v.y <= 0 || v.y + v.h >= window.innerHeight) v.dy *= -1;

            v.el.style.transform = `translate(${v.x}px, ${v.y}px)`;
        });
        requestAnimationFrame(animateVideos);
    }
    animateVideos();

    // Sound freischalten nach erstem Klick
    document.body.addEventListener("click", () => {
        videos.forEach(v => v.el.muted = false);
    }, { once: true });

    /* ------------------- SPIEL-LOGIK ------------------- */
    const startScreen = document.getElementById('startScreen');
    const coinGame = document.getElementById('coinGame');
    const randomGame = document.getElementById('randomGame');

    document.getElementById('coinGameBtn').onclick = () => {
        startScreen.style.display = 'none';
        coinGame.style.display = 'block';
    };

    document.getElementById('randomGameBtn').onclick = () => {
        startScreen.style.display = 'none';
        randomGame.style.display = 'block';
    };

    document.getElementById('backFromCoin').onclick = () => {
        coinGame.style.display = 'none';
        startScreen.style.display = 'block';
        document.getElementById('coinResult').classList.remove('show');
    };

    document.getElementById('backFromRandom').onclick = () => {
        randomGame.style.display = 'none';
        startScreen.style.display = 'block';
        document.getElementById('nameDisplay').classList.remove('show');
    };

    const defaultNames = ["Finn", "Vincent", "Julius", "Henri", "Tilman"];
    let names;
    try {
        names = JSON.parse(localStorage.getItem('names')) || defaultNames.slice();
    } catch (e) {
        names = defaultNames.slice();
    }

    function saveNames() {
        localStorage.setItem('names', JSON.stringify(names));
    }

    function renderNameTags() {
        const container = document.getElementById('nameTags');
        container.innerHTML = '';
        names.forEach((name, index) => {
            const tag = document.createElement('span');
            tag.className = 'name-tag';
            tag.textContent = name;
            const btn = document.createElement('button');
            btn.className = 'remove-btn';
            btn.textContent = '‚úï';
            btn.addEventListener('click', () => {
                names.splice(index, 1);
                saveNames();
                renderNameTags();
            });
            tag.appendChild(btn);
            container.appendChild(tag);
        });
    }

    document.getElementById('addNameBtn').addEventListener('click', () => {
        const input = document.getElementById('nameInput');
        const val = input.value.trim();
        if (val) {
            names.push(val);
            input.value = '';
            saveNames();
            renderNameTags();
        }
    });

    document.getElementById('nameInput').addEventListener('keydown', (e) => {
        if (e.key === 'Enter') document.getElementById('addNameBtn').click();
    });

    renderNameTags();

    document.getElementById('magicButton').addEventListener('click', () => {
        const btn = document.getElementById('magicButton');
        const nameDisplay = document.getElementById('nameDisplay');
        if (names.length === 0) return;
        btn.classList.add('pulsing');
        nameDisplay.classList.remove('show');
        setTimeout(() => {
            btn.classList.remove('pulsing');
            // Build weighted pool
            const pool = [];
            names.forEach(name => {
                const w = getWeight(name);
                for (let i = 0; i < w; i++) pool.push(name);
            });
            const randomName = pool[Math.floor(Math.random() * pool.length)];
            nameDisplay.textContent = randomName;
            nameDisplay.classList.add('show');
        }, 2000);
    });

    document.getElementById('flipCoinBtn').addEventListener('click', () => {
        const btn = document.getElementById('flipCoinBtn');
        const coinResult = document.getElementById('coinResult');
        btn.classList.add('pulsing');
        coinResult.classList.remove('show');
        setTimeout(() => {
            btn.classList.remove('pulsing');
            const result = Math.random() < 0.5 ? 'Kopf' : 'Zahl';
            coinResult.textContent = result;
            coinResult.classList.add('show');
        }, 2000);
    });

    /* ------------------- HACKER CONSOLE ------------------- */

    // Weight storage
    let nameWeights;
    try {
        nameWeights = JSON.parse(localStorage.getItem('nameWeights')) || {};
    } catch (e) {
        nameWeights = {};
    }

    function saveWeights() {
        localStorage.setItem('nameWeights', JSON.stringify(nameWeights));
    }

    function getWeight(name) {
        return nameWeights[name] || 1;
    }

    // Long-press detection on "M√ºnze werfen" button (start screen)
    let longPressTimer = null;
    const coinGameBtn = document.getElementById('coinGameBtn');

    function startLongPress(e) {
        longPressTimer = setTimeout(() => {
            longPressTimer = 'fired';
            openHackerConsole();
        }, 3000);
    }

    function endLongPress(e) {
        if (longPressTimer === 'fired') {
            // Long press was triggered, prevent normal click
            e.preventDefault();
            e.stopImmediatePropagation();
            longPressTimer = null;
            return;
        }
        clearTimeout(longPressTimer);
        longPressTimer = null;
    }

    coinGameBtn.addEventListener('mousedown', startLongPress);
    coinGameBtn.addEventListener('touchstart', startLongPress, { passive: true });
    coinGameBtn.addEventListener('mouseup', endLongPress);
    coinGameBtn.addEventListener('mouseleave', () => {
        if (longPressTimer && longPressTimer !== 'fired') {
            clearTimeout(longPressTimer);
            longPressTimer = null;
        }
    });
    coinGameBtn.addEventListener('touchend', endLongPress);
    coinGameBtn.addEventListener('touchcancel', () => {
        if (longPressTimer && longPressTimer !== 'fired') {
            clearTimeout(longPressTimer);
            longPressTimer = null;
        }
    });

    // Prevent default click when long press fired
    coinGameBtn.addEventListener('click', (e) => {
        if (longPressTimer === 'fired') {
            e.preventDefault();
            e.stopImmediatePropagation();
            longPressTimer = null;
        }
    }, true);

    // Hacker Console open/close
    function openHackerConsole() {
        document.getElementById('hackerConsole').style.display = 'block';
        renderHackerPersonList();
    }

    function closeHackerConsole() {
        document.getElementById('hackerConsole').style.display = 'none';
    }

    document.getElementById('hackerCloseBtn').addEventListener('click', closeHackerConsole);

    function renderHackerPersonList() {
        const container = document.getElementById('hackerPersonList');
        container.innerHTML = '';
        names.forEach(name => {
            const row = document.createElement('div');
            row.className = 'hacker-person';

            const nameEl = document.createElement('span');
            nameEl.className = 'hacker-person-name';
            nameEl.textContent = '> ' + name;

            const slider = document.createElement('input');
            slider.type = 'range';
            slider.className = 'hacker-person-slider';
            slider.min = 1;
            slider.max = 10;
            slider.value = getWeight(name);

            const weightLabel = document.createElement('span');
            weightLabel.className = 'hacker-person-weight';
            weightLabel.textContent = getWeight(name) + 'x';

            slider.addEventListener('input', () => {
                const val = parseInt(slider.value, 10);
                nameWeights[name] = val;
                weightLabel.textContent = val + 'x';
                saveWeights();
            });

            row.appendChild(nameEl);
            row.appendChild(slider);
            row.appendChild(weightLabel);
            container.appendChild(row);
        });
    }

</script>
</body>
</html>
